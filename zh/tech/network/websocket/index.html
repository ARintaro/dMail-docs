
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../backend/dMail/">
      
      
        <link rel="next" href="../../database/user/">
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.13">
    
    
      
        <title>Websocket - dMail-docs</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.85bb2934.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.a6bdf11c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="red">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#websocket" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../../" title="dMail-docs" class="md-header__button md-logo" aria-label="dMail-docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            dMail-docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Websocket
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="red"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
              </label>
            
          
        </form>
      
    
    
      <div class="md-header__option">
        <div class="md-select">
          
          <button class="md-header__button md-icon" aria-label="选择当前语言">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg>
          </button>
          <div class="md-select__inner">
            <ul class="md-select__list">
              
                <li class="md-select__item">
                  <a href="../../../../tech/network/websocket/" hreflang="en" class="md-select__link">
                    English
                  </a>
                </li>
              
                <li class="md-select__item">
                  <a href="./" hreflang="zh" class="md-select__link">
                    中文
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ARintaro/dMail-docs" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ARintaro/dMail-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../" class="md-tabs__link">
        dMail
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../design/" class="md-tabs__link md-tabs__link--active">
        技术文档
      </a>
    </li>
  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../user/help/web/" class="md-tabs__link">
        用户文档
      </a>
    </li>
  

  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../" title="dMail-docs" class="md-nav__button md-logo" aria-label="dMail-docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    dMail-docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ARintaro/dMail-docs" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ARintaro/dMail-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
      
      
      
        <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
          dMail
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          dMail
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../" class="md-nav__link">
        Welcome
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          技术文档
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          技术文档
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/" class="md-nav__link">
        技术设计
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          连接服务端
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          连接服务端
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/dMail/" class="md-nav__link">
        Cargo Doc
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
          通信协议
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          通信协议
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Websocket
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Websocket
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    写在前面
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    握手加密协议
  </a>
  
    <nav class="md-nav" aria-label="握手加密协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setconnectionsymkeyc2s" class="md-nav__link">
    SetConnectionSymKey(C2S)*
  </a>
  
    <nav class="md-nav" aria-label="SetConnectionSymKey(C2S)*">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setconnectionpubkeyresponses2c" class="md-nav__link">
    SetConnectionPubKeyResponse(S2C)**
  </a>
  
    <nav class="md-nav" aria-label="SetConnectionPubKeyResponse(S2C)**">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    加密方法
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    登录协议
  </a>
  
    <nav class="md-nav" aria-label="登录协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#loginc2s" class="md-nav__link">
    Login(C2S)
  </a>
  
    <nav class="md-nav" aria-label="Login(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loginresponses2c" class="md-nav__link">
    LoginResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="LoginResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    注册协议
  </a>
  
    <nav class="md-nav" aria-label="注册协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#registerc2s" class="md-nav__link">
    Register(C2S)
  </a>
  
    <nav class="md-nav" aria-label="Register(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registerresponses2c" class="md-nav__link">
    RegisterResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="RegisterResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    初始数据拉取协议
  </a>
  
    <nav class="md-nav" aria-label="初始数据拉取协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pullc2s" class="md-nav__link">
    Pull(C2S)
  </a>
  
    <nav class="md-nav" aria-label="Pull(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#readcursorss2c" class="md-nav__link">
    ReadCursors(S2C)
  </a>
  
    <nav class="md-nav" aria-label="ReadCursors(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_30" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#messagess2c" class="md-nav__link">
    Messages(S2C)
  </a>
  
    <nav class="md-nav" aria-label="Messages(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_31" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_32" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requestss2c" class="md-nav__link">
    Requests(S2C)
  </a>
  
    <nav class="md-nav" aria-label="Requests(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_34" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_35" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_36" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usersettings2c" class="md-nav__link">
    UserSetting(S2C)
  </a>
  
    <nav class="md-nav" aria-label="UserSetting(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_37" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_38" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_39" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#noticess2c" class="md-nav__link">
    Notices(S2C)
  </a>
  
    <nav class="md-nav" aria-label="Notices(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_40" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_41" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_42" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pullresponses2c" class="md-nav__link">
    PullResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="PullResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_43" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_44" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_45" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_46" class="md-nav__link">
    用户信息拉取协议
  </a>
  
    <nav class="md-nav" aria-label="用户信息拉取协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getuserinfoc2s" class="md-nav__link">
    GetUserInfo(C2S)
  </a>
  
    <nav class="md-nav" aria-label="GetUserInfo(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_47" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_48" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_49" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getuserinforesponses2c" class="md-nav__link">
    GetUserInfoResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="GetUserInfoResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_50" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_51" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_52" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_53" class="md-nav__link">
    聊天数据拉取协议
  </a>
  
    <nav class="md-nav" aria-label="聊天数据拉取协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getchatinfoc2s" class="md-nav__link">
    GetChatInfo(C2S)
  </a>
  
    <nav class="md-nav" aria-label="GetChatInfo(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_54" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_55" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_56" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chats2c" class="md-nav__link">
    Chat(S2C)
  </a>
  
    <nav class="md-nav" aria-label="Chat(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_57" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_58" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_59" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_60" class="md-nav__link">
    群聊权限相关协议
  </a>
  
    <nav class="md-nav" aria-label="群聊权限相关协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getgroupusersgetgroupadmingetgroupownerc2s" class="md-nav__link">
    GetGroupUsers、GetGroupAdmin、GetGroupOwner(C2S)
  </a>
  
    <nav class="md-nav" aria-label="GetGroupUsers、GetGroupAdmin、GetGroupOwner(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_61" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_62" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_63" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getgroupusersresponses2c" class="md-nav__link">
    GetGroupUsersResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="GetGroupUsersResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_64" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_65" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_66" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getgroupownerresponses2c" class="md-nav__link">
    GetGroupOwnerResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="GetGroupOwnerResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_67" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_68" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_69" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getgroupadminresponses2c" class="md-nav__link">
    GetGroupAdminResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="GetGroupAdminResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_70" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_71" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_72" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#groupownertransferc2s" class="md-nav__link">
    GroupOwnerTransfer(C2S)
  </a>
  
    <nav class="md-nav" aria-label="GroupOwnerTransfer(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_73" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_74" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_75" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#groupownertransferresponses2c" class="md-nav__link">
    GroupOwnerTransferResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="GroupOwnerTransferResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_76" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_77" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_78" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removegroupmemberc2s" class="md-nav__link">
    RemoveGroupMember(C2S)
  </a>
  
    <nav class="md-nav" aria-label="RemoveGroupMember(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_79" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_80" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_81" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removegroupmemberresponses2c" class="md-nav__link">
    RemoveGroupMemberResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="RemoveGroupMemberResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_82" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_83" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_84" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_85" class="md-nav__link">
    私聊已读查询协议
  </a>
  
    <nav class="md-nav" aria-label="私聊已读查询协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getuserreadinprivatec2s" class="md-nav__link">
    GetUserReadInPrivate(C2S)
  </a>
  
    <nav class="md-nav" aria-label="GetUserReadInPrivate(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_86" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_87" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ilike" class="md-nav__link">
    示例iLike
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getuserreadinprivateresponses2c" class="md-nav__link">
    GetUserReadInPrivateResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="GetUserReadInPrivateResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_88" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_89" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_90" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_91" class="md-nav__link">
    群聊已读查询协议
  </a>
  
    <nav class="md-nav" aria-label="群聊已读查询协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getuserreadingroupc2s" class="md-nav__link">
    GetUserReadInGroup(C2S)
  </a>
  
    <nav class="md-nav" aria-label="GetUserReadInGroup(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_92" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_93" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_94" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getuserreadingroupresponses2c" class="md-nav__link">
    GetUserReadInGroupResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="GetUserReadInGroupResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_95" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_96" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_97" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_98" class="md-nav__link">
    群聊公告协议
  </a>
  
    <nav class="md-nav" aria-label="群聊公告协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pullgroupnoticec2s" class="md-nav__link">
    PullGroupNotice(C2S)
  </a>
  
    <nav class="md-nav" aria-label="PullGroupNotice(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_99" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_100" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_101" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pullgroupnoticeresponses2c" class="md-nav__link">
    PullGroupNoticeResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="PullGroupNoticeResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_102" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_103" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_104" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sendgroupnoticec2s" class="md-nav__link">
    SendGroupNotice(C2S)
  </a>
  
    <nav class="md-nav" aria-label="SendGroupNotice(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_105" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_106" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_107" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#groupnoticeresponses2c" class="md-nav__link">
    GroupNoticeResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="GroupNoticeResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_108" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_109" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_110" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#token" class="md-nav__link">
    token签发协议
  </a>
  
    <nav class="md-nav" aria-label="token签发协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#applyfortokenc2s" class="md-nav__link">
    ApplyForToken(C2S)
  </a>
  
    <nav class="md-nav" aria-label="ApplyForToken(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_111" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_112" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_113" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#applyfortokenresponses2c" class="md-nav__link">
    ApplyForTokenResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="ApplyForTokenResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_114" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_115" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_116" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_117" class="md-nav__link">
    消息发送及操作协议
  </a>
  
    <nav class="md-nav" aria-label="消息发送及操作协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sendmessagec2s" class="md-nav__link">
    SendMessage(C2S)
  </a>
  
    <nav class="md-nav" aria-label="SendMessage(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_118" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_119" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_120" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sendmessageresponses2c" class="md-nav__link">
    SendMessageResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="SendMessageResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_121" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_122" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_123" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#revokemessagec2s" class="md-nav__link">
    RevokeMessage(C2S)
  </a>
  
    <nav class="md-nav" aria-label="RevokeMessage(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_124" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_125" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_126" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#revokemessageresponses2c" class="md-nav__link">
    RevokeMessageResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="RevokeMessageResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_127" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_128" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_129" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_130" class="md-nav__link">
    请求发送及处理协议
  </a>
  
    <nav class="md-nav" aria-label="请求发送及处理协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sendrequestc2s" class="md-nav__link">
    SendRequest(C2S)
  </a>
  
    <nav class="md-nav" aria-label="SendRequest(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_131" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_132" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_133" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sendrequestresponses2c" class="md-nav__link">
    SendRequestResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="SendRequestResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_134" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_135" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_136" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solverequestc2s" class="md-nav__link">
    SolveRequest(C2S)
  </a>
  
    <nav class="md-nav" aria-label="SolveRequest(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_137" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_138" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_139" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solverequestresponses2c" class="md-nav__link">
    SolveRequestResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="SolveRequestResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_140" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_141" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_142" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requeststateupdates2c" class="md-nav__link">
    RequestStateUpdate(S2C)
  </a>
  
    <nav class="md-nav" aria-label="RequestStateUpdate(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_143" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_144" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_145" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_146" class="md-nav__link">
    删除好友协议
  </a>
  
    <nav class="md-nav" aria-label="删除好友协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unfriendc2s" class="md-nav__link">
    Unfriend(C2S)
  </a>
  
    <nav class="md-nav" aria-label="Unfriend(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_147" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_148" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_149" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unfriendresponses2c" class="md-nav__link">
    UnfriendResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="UnfriendResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_150" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_151" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_152" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
      
      
      
        <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
          数据库
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          数据库
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_1" >
      
      
      
        <label class="md-nav__link" for="__nav_2_4_1" id="__nav_2_4_1_label" tabindex="0">
          redis
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_4_1">
          <span class="md-nav__icon md-icon"></span>
          redis
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../database/user/" class="md-nav__link">
        user
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../database/chat/" class="md-nav__link">
        chat
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../database/req/" class="md-nav__link">
        req
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../database/file/" class="md-nav__link">
        file
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          用户文档
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          用户文档
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
      
      
      
        <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
          使用帮助
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          使用帮助
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/help/web/" class="md-nav__link">
        Web端
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
      
      
      
        <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
          部署指南
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          部署指南
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user/deploy/server/" class="md-nav__link">
        服务端
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    写在前面
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    握手加密协议
  </a>
  
    <nav class="md-nav" aria-label="握手加密协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setconnectionsymkeyc2s" class="md-nav__link">
    SetConnectionSymKey(C2S)*
  </a>
  
    <nav class="md-nav" aria-label="SetConnectionSymKey(C2S)*">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setconnectionpubkeyresponses2c" class="md-nav__link">
    SetConnectionPubKeyResponse(S2C)**
  </a>
  
    <nav class="md-nav" aria-label="SetConnectionPubKeyResponse(S2C)**">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    加密方法
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    登录协议
  </a>
  
    <nav class="md-nav" aria-label="登录协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#loginc2s" class="md-nav__link">
    Login(C2S)
  </a>
  
    <nav class="md-nav" aria-label="Login(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loginresponses2c" class="md-nav__link">
    LoginResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="LoginResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    注册协议
  </a>
  
    <nav class="md-nav" aria-label="注册协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#registerc2s" class="md-nav__link">
    Register(C2S)
  </a>
  
    <nav class="md-nav" aria-label="Register(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registerresponses2c" class="md-nav__link">
    RegisterResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="RegisterResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    初始数据拉取协议
  </a>
  
    <nav class="md-nav" aria-label="初始数据拉取协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pullc2s" class="md-nav__link">
    Pull(C2S)
  </a>
  
    <nav class="md-nav" aria-label="Pull(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#readcursorss2c" class="md-nav__link">
    ReadCursors(S2C)
  </a>
  
    <nav class="md-nav" aria-label="ReadCursors(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_30" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#messagess2c" class="md-nav__link">
    Messages(S2C)
  </a>
  
    <nav class="md-nav" aria-label="Messages(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_31" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_32" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requestss2c" class="md-nav__link">
    Requests(S2C)
  </a>
  
    <nav class="md-nav" aria-label="Requests(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_34" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_35" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_36" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usersettings2c" class="md-nav__link">
    UserSetting(S2C)
  </a>
  
    <nav class="md-nav" aria-label="UserSetting(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_37" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_38" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_39" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#noticess2c" class="md-nav__link">
    Notices(S2C)
  </a>
  
    <nav class="md-nav" aria-label="Notices(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_40" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_41" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_42" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pullresponses2c" class="md-nav__link">
    PullResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="PullResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_43" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_44" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_45" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_46" class="md-nav__link">
    用户信息拉取协议
  </a>
  
    <nav class="md-nav" aria-label="用户信息拉取协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getuserinfoc2s" class="md-nav__link">
    GetUserInfo(C2S)
  </a>
  
    <nav class="md-nav" aria-label="GetUserInfo(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_47" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_48" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_49" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getuserinforesponses2c" class="md-nav__link">
    GetUserInfoResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="GetUserInfoResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_50" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_51" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_52" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_53" class="md-nav__link">
    聊天数据拉取协议
  </a>
  
    <nav class="md-nav" aria-label="聊天数据拉取协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getchatinfoc2s" class="md-nav__link">
    GetChatInfo(C2S)
  </a>
  
    <nav class="md-nav" aria-label="GetChatInfo(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_54" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_55" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_56" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chats2c" class="md-nav__link">
    Chat(S2C)
  </a>
  
    <nav class="md-nav" aria-label="Chat(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_57" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_58" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_59" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_60" class="md-nav__link">
    群聊权限相关协议
  </a>
  
    <nav class="md-nav" aria-label="群聊权限相关协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getgroupusersgetgroupadmingetgroupownerc2s" class="md-nav__link">
    GetGroupUsers、GetGroupAdmin、GetGroupOwner(C2S)
  </a>
  
    <nav class="md-nav" aria-label="GetGroupUsers、GetGroupAdmin、GetGroupOwner(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_61" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_62" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_63" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getgroupusersresponses2c" class="md-nav__link">
    GetGroupUsersResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="GetGroupUsersResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_64" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_65" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_66" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getgroupownerresponses2c" class="md-nav__link">
    GetGroupOwnerResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="GetGroupOwnerResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_67" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_68" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_69" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getgroupadminresponses2c" class="md-nav__link">
    GetGroupAdminResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="GetGroupAdminResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_70" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_71" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_72" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#groupownertransferc2s" class="md-nav__link">
    GroupOwnerTransfer(C2S)
  </a>
  
    <nav class="md-nav" aria-label="GroupOwnerTransfer(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_73" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_74" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_75" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#groupownertransferresponses2c" class="md-nav__link">
    GroupOwnerTransferResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="GroupOwnerTransferResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_76" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_77" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_78" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removegroupmemberc2s" class="md-nav__link">
    RemoveGroupMember(C2S)
  </a>
  
    <nav class="md-nav" aria-label="RemoveGroupMember(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_79" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_80" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_81" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removegroupmemberresponses2c" class="md-nav__link">
    RemoveGroupMemberResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="RemoveGroupMemberResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_82" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_83" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_84" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_85" class="md-nav__link">
    私聊已读查询协议
  </a>
  
    <nav class="md-nav" aria-label="私聊已读查询协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getuserreadinprivatec2s" class="md-nav__link">
    GetUserReadInPrivate(C2S)
  </a>
  
    <nav class="md-nav" aria-label="GetUserReadInPrivate(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_86" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_87" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ilike" class="md-nav__link">
    示例iLike
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getuserreadinprivateresponses2c" class="md-nav__link">
    GetUserReadInPrivateResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="GetUserReadInPrivateResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_88" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_89" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_90" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_91" class="md-nav__link">
    群聊已读查询协议
  </a>
  
    <nav class="md-nav" aria-label="群聊已读查询协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getuserreadingroupc2s" class="md-nav__link">
    GetUserReadInGroup(C2S)
  </a>
  
    <nav class="md-nav" aria-label="GetUserReadInGroup(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_92" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_93" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_94" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getuserreadingroupresponses2c" class="md-nav__link">
    GetUserReadInGroupResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="GetUserReadInGroupResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_95" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_96" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_97" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_98" class="md-nav__link">
    群聊公告协议
  </a>
  
    <nav class="md-nav" aria-label="群聊公告协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pullgroupnoticec2s" class="md-nav__link">
    PullGroupNotice(C2S)
  </a>
  
    <nav class="md-nav" aria-label="PullGroupNotice(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_99" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_100" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_101" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pullgroupnoticeresponses2c" class="md-nav__link">
    PullGroupNoticeResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="PullGroupNoticeResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_102" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_103" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_104" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sendgroupnoticec2s" class="md-nav__link">
    SendGroupNotice(C2S)
  </a>
  
    <nav class="md-nav" aria-label="SendGroupNotice(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_105" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_106" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_107" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#groupnoticeresponses2c" class="md-nav__link">
    GroupNoticeResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="GroupNoticeResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_108" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_109" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_110" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#token" class="md-nav__link">
    token签发协议
  </a>
  
    <nav class="md-nav" aria-label="token签发协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#applyfortokenc2s" class="md-nav__link">
    ApplyForToken(C2S)
  </a>
  
    <nav class="md-nav" aria-label="ApplyForToken(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_111" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_112" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_113" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#applyfortokenresponses2c" class="md-nav__link">
    ApplyForTokenResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="ApplyForTokenResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_114" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_115" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_116" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_117" class="md-nav__link">
    消息发送及操作协议
  </a>
  
    <nav class="md-nav" aria-label="消息发送及操作协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sendmessagec2s" class="md-nav__link">
    SendMessage(C2S)
  </a>
  
    <nav class="md-nav" aria-label="SendMessage(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_118" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_119" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_120" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sendmessageresponses2c" class="md-nav__link">
    SendMessageResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="SendMessageResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_121" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_122" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_123" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#revokemessagec2s" class="md-nav__link">
    RevokeMessage(C2S)
  </a>
  
    <nav class="md-nav" aria-label="RevokeMessage(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_124" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_125" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_126" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#revokemessageresponses2c" class="md-nav__link">
    RevokeMessageResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="RevokeMessageResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_127" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_128" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_129" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_130" class="md-nav__link">
    请求发送及处理协议
  </a>
  
    <nav class="md-nav" aria-label="请求发送及处理协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sendrequestc2s" class="md-nav__link">
    SendRequest(C2S)
  </a>
  
    <nav class="md-nav" aria-label="SendRequest(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_131" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_132" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_133" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sendrequestresponses2c" class="md-nav__link">
    SendRequestResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="SendRequestResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_134" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_135" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_136" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solverequestc2s" class="md-nav__link">
    SolveRequest(C2S)
  </a>
  
    <nav class="md-nav" aria-label="SolveRequest(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_137" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_138" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_139" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solverequestresponses2c" class="md-nav__link">
    SolveRequestResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="SolveRequestResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_140" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_141" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_142" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requeststateupdates2c" class="md-nav__link">
    RequestStateUpdate(S2C)
  </a>
  
    <nav class="md-nav" aria-label="RequestStateUpdate(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_143" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_144" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_145" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_146" class="md-nav__link">
    删除好友协议
  </a>
  
    <nav class="md-nav" aria-label="删除好友协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unfriendc2s" class="md-nav__link">
    Unfriend(C2S)
  </a>
  
    <nav class="md-nav" aria-label="Unfriend(C2S)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_147" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_148" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_149" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unfriendresponses2c" class="md-nav__link">
    UnfriendResponse(S2C)
  </a>
  
    <nav class="md-nav" aria-label="UnfriendResponse(S2C)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_150" class="md-nav__link">
    描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_151" class="md-nav__link">
    参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_152" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="websocket">Websocket 通信协议</h1>
<h2 id="_1">写在前面</h2>
<ul>
<li>
<p>为保证通信的安全与隐私，除特殊标记（带<code>*</code>号或<code>**</code>号）的通信协议外，所有协议内容均经过<code>AES</code>对称密钥加密。其中<code>*</code>标记表示该协议无加密，<code>**</code>标记表示该协议通过<code>RSA</code>公钥加密。</p>
</li>
<li>
<p>所有的协议内容，在加密前（解密后）格式均为：</p>
<p><code>json
{
    "command": "***",
    "data": [data] // JSON或string或undefined
}</code></p>
</li>
<li>
<p>本API文档之后的[协议名称]部分，均指明文协议中command字段需要的字符串，[参数]部分，表格的第一行均指data的类型，其后各行指明文协议中data部分需要的字段（如果data存在且类型为JSON）。</p>
</li>
<li>
<p>由于通信通常是客户端向服务器端发送数据，服务器端在接受到相应的数据后向客户端发送对应的返回数据，故本API文档大部分协议采取C2S-S2C的形式编写。其中C2S(Client2Server)表示客户端向服务器端发送，S2C类似。</p>
</li>
<li>
<p>协议内容在加密后，均为<code>base64</code>编码的字符串。</p>
</li>
</ul>
<h2 id="_2">握手加密协议</h2>
<h3 id="setconnectionsymkeyc2s">SetConnectionSymKey(C2S)*</h3>
<h4 id="_3">描述</h4>
<p>用于和服务器交换AES密钥对，实现握手加密。</p>
<h4 id="_4">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>string</td>
<td>1024位的RSA公钥</td>
</tr>
</tbody>
</table>
<h4 id="_5">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;SetConnectionSymKey&quot;,
    &quot;data&quot;: &quot;MIGJAoGBAKMxsngBaWseSIR+84kzKaG31WEgePkC3AxgeOmQN3zHPs2tBHgsH8eqP8BTOVOzX6Llqo2HwO8FBMWetNRYMytzIYzSNL728ANyBeoItoyhqd2vlZYqj9eJ5ImmYcRMgTwc8CVcDuonjFF8bR2Y+sULLprrzFLjFSgj6K2Te3wZAgMBAAE=&quot;
}
</code></pre>
<h3 id="setconnectionpubkeyresponses2c">SetConnectionPubKeyResponse(S2C)**</h3>
<h4 id="_6">加密方法</h4>
<p>使用[握手加密协议(C2S)*]提供的RSA公钥进行加密</p>
<h4 id="_7">描述</h4>
<p>用于设置客户端的AES对称密钥</p>
<h4 id="_8">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>服务器端的响应状态</td>
</tr>
<tr>
<td>pubKey</td>
<td>string(可选)</td>
<td>如果正确响应，则为AES密钥</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>state状态</th>
<th>说明</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>NeedSetPubKey</td>
<td>服务器端尚未获得RSA公钥</td>
<td></td>
</tr>
<tr>
<td>PubKeyError</td>
<td>服务器端RSA公钥加密失败</td>
<td></td>
</tr>
<tr>
<td>HasApproved</td>
<td>已经通过握手加密</td>
<td></td>
</tr>
<tr>
<td>Success</td>
<td>服务器端签发AES密钥成功</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="_9">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;SetConnectionPubKeyResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;Success&quot;,
        &quot;pubKey&quot;: &quot;hfqtj+f9vPN3CXDPgN6qQJgIlQph2dvPe99fsZJUK2vud6Iwyw…0FyXp/blfQaE3Lf/n5CWFl+TppHN5x6q7oCGuUHGp10EZKMQ=&quot; 
    }
}
</code></pre>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;SetConnectionPubKeyResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;HasApproved&quot;
    }
}
</code></pre>
<h2 id="_10">登录协议</h2>
<h3 id="loginc2s">Login(C2S)</h3>
<h4 id="_11">描述</h4>
<p>用于用户登录</p>
<h4 id="_12">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>用户邮箱</td>
</tr>
<tr>
<td>password</td>
<td>string(可选)</td>
<td>加盐hash后的密码</td>
</tr>
<tr>
<td>emailCode</td>
<td>number(可选)</td>
<td>邮箱验证码</td>
</tr>
<tr>
<td>token</td>
<td>string(可选)</td>
<td>服务器端签发的token</td>
</tr>
</tbody>
</table>
<h4 id="_13">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;Login&quot;,
    &quot;data&quot;: {
        &quot;email&quot;: &quot;rintaro@foxmail.com&quot;,
        &quot;password&quot;: &quot;fd750cd28387c49d2f5b951005e6ac2d5af2e7e0a3a3dd821827c12ae527f52d&quot;
    }
}
</code></pre>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;Login&quot;,
    &quot;data&quot;: {
        &quot;email&quot;: &quot;rintaro@foxmail.com&quot;,
        &quot;emailCode&quot;: 2145621540
    }
}
</code></pre>
<h3 id="loginresponses2c">LoginResponse(S2C)</h3>
<h4 id="_14">描述</h4>
<p>用于服务器端响应用户登录请求</p>
<h4 id="_15">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>用户登录请求响应状态</td>
</tr>
<tr>
<td>userId</td>
<td>number(可选)</td>
<td>成功登录后，为用户的用户Id</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>state状态</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Success</td>
<td>成功登录</td>
</tr>
<tr>
<td>EmailInvalid</td>
<td>邮箱格式错误</td>
</tr>
<tr>
<td>UserNotFound</td>
<td>数据库不存在该用户</td>
</tr>
<tr>
<td>UserLogged</td>
<td>该用户已登录</td>
</tr>
<tr>
<td>PasswordError</td>
<td>密码错误</td>
</tr>
<tr>
<td>EmailCodeError</td>
<td>验证码错误</td>
</tr>
<tr>
<td>TokenError</td>
<td>token错误</td>
</tr>
<tr>
<td>TokenExpired</td>
<td>token过期</td>
</tr>
</tbody>
</table>
<h4 id="_16">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;LoginResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;Success&quot;,
        &quot;userId&quot;: 1
    }
}
</code></pre>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;LoginResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;UserLogged&quot;
    }
}
</code></pre>
<h2 id="_17">注册协议</h2>
<h3 id="registerc2s">Register(C2S)</h3>
<h4 id="_18">描述</h4>
<p>用于客户端向服务器端发送注册账户请求</p>
<h4 id="_19">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>userName</td>
<td>string</td>
<td>用户名</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>加盐hash后的密码</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>用户邮箱</td>
</tr>
<tr>
<td>emailCode</td>
<td>number</td>
<td>邮箱验证码</td>
</tr>
</tbody>
</table>
<h4 id="_20">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;Register&quot;,
    &quot;data&quot;: {
        &quot;userName&quot;: &quot;ARintaro&quot;,
        &quot;email&quot;: &quot;rintaro@foxmail.com&quot;,
        &quot;password&quot;: &quot;fd750cd28387c49d2f5b951005e6ac2d5af2e7e0a3a3dd821827c12ae527f52d&quot;,
        &quot;emailCode&quot;: 1234567890
    }
}
</code></pre>
<h3 id="registerresponses2c">RegisterResponse(S2C)</h3>
<h4 id="_21">描述</h4>
<p>用于服务器端向客户端响应注册请求</p>
<h4 id="_22">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>注册请求的响应状态</td>
</tr>
<tr>
<td>userId</td>
<td>number(可选)</td>
<td>注册成功后，为注册用户的用户ID</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>state状态</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Success</td>
<td>注册成功</td>
</tr>
<tr>
<td>UserNameFormatError</td>
<td>用户名格式错误</td>
</tr>
<tr>
<td>PasswordFormatError</td>
<td>密码格式错误</td>
</tr>
<tr>
<td>EmailRegistered</td>
<td>该邮箱已被注册</td>
</tr>
<tr>
<td>EmailCodeError</td>
<td>验证码错误</td>
</tr>
<tr>
<td>EmailInvalid</td>
<td>验证码格式错误</td>
</tr>
</tbody>
</table>
<h4 id="_23">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;RegisterResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;Success&quot;,
        &quot;userId&quot;: 15
    }
}
</code></pre>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;RegisterResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;EmailCodeError&quot;
    }
}
</code></pre>
<h2 id="_24">初始数据拉取协议</h2>
<h3 id="pullc2s">Pull(C2S)</h3>
<h4 id="_25">描述</h4>
<p>在登陆成功后，客户端自动向服务器端发送，请求拉取用于初始化聊天信息的数据</p>
<h4 id="_26">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>lastRequestId</td>
<td>number</td>
<td>增量拉取最新的RequestId后的Request，为0时进行全量拉取</td>
</tr>
<tr>
<td>noticeTimestamp</td>
<td>number</td>
<td>增量拉取该时间戳后的全部notice</td>
</tr>
</tbody>
</table>
<h4 id="_27">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;Pull&quot;,
    &quot;data&quot;: {
        &quot;lastRequestId&quot;: 0,
        &quot;noticeTimestamp&quot;: 1685018341911
    }
}
</code></pre>
<h3 id="readcursorss2c">ReadCursors(S2C)</h3>
<h4 id="_28">描述</h4>
<p>服务器端向客户端发送对应聊天最新已读消息的位置</p>
<h4 id="_29">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>Array</td>
<td>无</td>
</tr>
<tr>
<td>data[index]</td>
<td>Array</td>
<td>以元组的形式存储的[chatId, readCursor]对</td>
</tr>
</tbody>
</table>
<h4 id="_30">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;ReadCursors&quot;,
    &quot;data&quot;: [
        [1, 69],
        [3, 52],
        [8, 5],
        [2, 11]
    ]
}
</code></pre>
<h3 id="messagess2c">Messages(S2C)</h3>
<h4 id="_31">描述</h4>
<p>服务器端向客户端为每个聊天发送最新的部分消息</p>
<h4 id="_32">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>Array</td>
<td>无</td>
</tr>
<tr>
<td>data[index]</td>
<td>string</td>
<td>序列化后的消息数据</td>
</tr>
</tbody>
</table>
<h4 id="_33">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;Messages&quot;,
    &quot;data&quot;: [
        &quot;{&quot;type&quot;:&quot;Text&quot;, &quot;inChatId&quot;:64, &quot;chatId&quot;:1, &quot;senderId&quot;:7, &quot;serializedContent&quot;:&quot;\&quot;\\\&quot;XXX\\\&quot;\&quot;&quot;, &quot;timestamp&quot;:1684332121757}&quot;,
        &quot;{&quot;type&quot;:&quot;Text&quot;, &quot;inChatId&quot;:65, &quot;chatId&quot;:1, &quot;senderId&quot;:3, &quot;serializedContent&quot;:&quot;\&quot;www.hao.com www.hao.com www.hao.com\&quot;&quot;, &quot;timestamp&quot;:1684332445808}&quot;
    ]
}
</code></pre>
<h3 id="requestss2c">Requests(S2C)</h3>
<h4 id="_34">描述</h4>
<p>服务器端向客户端为每个聊天发送最新的部分消息</p>
<h4 id="_35">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>Array</td>
<td>无</td>
</tr>
<tr>
<td>data[index]</td>
<td>string</td>
<td>序列化后的Request数据</td>
</tr>
</tbody>
</table>
<h4 id="_36">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;Requests&quot;,
    &quot;data&quot;: [
        &quot;{&quot;info&quot;:{&quot;reqId&quot;:1,&quot;senderId&quot;:2,&quot;message&quot;:&quot;123&quot;,&quot;content&quot;:{&quot;type&quot;:&quot;JoinGroup&quot;,&quot;chatId&quot;:1}},&quot;state&quot;:&quot;Approved&quot;}&quot;,
        &quot;{&quot;info&quot;:{&quot;reqId&quot;:2,&quot;senderId&quot;:1,&quot;message&quot;:&quot;test&quot;,&quot;content&quot;:{&quot;type&quot;:&quot;MakeFriend&quot;,&quot;receiverId&quot;:2}},&quot;state&quot;:&quot;Approved&quot;}&quot;
    ]
}
</code></pre>
<h3 id="usersettings2c">UserSetting(S2C)</h3>
<h4 id="_37">描述</h4>
<p>服务器端向客户端发送用户配置数据</p>
<h4 id="_38">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>string</td>
<td>序列化后的用户配置数据</td>
</tr>
</tbody>
</table>
<h4 id="_39">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;UserSetting&quot;,
    &quot;data&quot;: &quot;{&quot;secondaryCheckChats&quot;:[],&quot;userNickname&quot;:[],&quot;notification&quot;:{&quot;slient&quot;:true,&quot;show&quot;:true,&quot;muteChatIds&quot;:[6]},&quot;topChatIds&quot;:[4,3]}&quot;
}
</code></pre>
<h3 id="noticess2c">Notices(S2C)</h3>
<h4 id="_40">描述</h4>
<p>服务器端向客户端发送客户端拉取的部分Notice数据列表</p>
<h4 id="_41">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>Array</td>
<td>无</td>
</tr>
<tr>
<td>data[index]</td>
<td>string</td>
<td>序列化后的Notice数据</td>
</tr>
</tbody>
</table>
<h4 id="_42">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;Notices&quot;,
    &quot;data&quot;: []
}
</code></pre>
<h3 id="pullresponses2c">PullResponse(S2C)</h3>
<h4 id="_43">描述</h4>
<p>服务器端向客户端响应Pull请求状态</p>
<h4 id="_44">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>Pull请求的响应状态</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>state状态</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Success</td>
<td>成功响应Pull请求</td>
</tr>
<tr>
<td>DatabaseError</td>
<td>数据库异常</td>
</tr>
</tbody>
</table>
<h4 id="_45">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;PullResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;Success&quot;
    }
}
</code></pre>
<h2 id="_46">用户信息拉取协议</h2>
<h3 id="getuserinfoc2s">GetUserInfo(C2S)</h3>
<h4 id="_47">描述</h4>
<p>客户端向服务器端拉取用户信息</p>
<h4 id="_48">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>number</td>
<td>用户ID</td>
</tr>
</tbody>
</table>
<h4 id="_49">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;GetUserInfo&quot;,
    &quot;data&quot;: 1
}
</code></pre>
<h3 id="getuserinforesponses2c">GetUserInfoResponse(S2C)</h3>
<h4 id="_50">描述</h4>
<p>服务器端向客户端发送用户信息数据</p>
<h4 id="_51">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>响应状态</td>
</tr>
<tr>
<td>userId</td>
<td>number(可选)</td>
<td>成功响应后，为用户Id</td>
</tr>
<tr>
<td>userName</td>
<td>string(可选)</td>
<td>成功响应后，为用户名</td>
</tr>
<tr>
<td>avaterHash</td>
<td>string(可选)</td>
<td>成功响应后，为头像文件hash值</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>state状态</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Success</td>
<td>正确响应请求</td>
</tr>
<tr>
<td>UserNotFound</td>
<td>该用户不存在</td>
</tr>
<tr>
<td>ServerError</td>
<td>服务器错误</td>
</tr>
</tbody>
</table>
<h4 id="_52">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;GetUserInfoResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;Success&quot;,
        &quot;userId&quot;: 8,
        &quot;userName&quot;: &quot;Rintaro&quot;,
        &quot;avaterHash&quot;: &quot;b9c9a45da34b134a835c0ec673ea4ce4&quot;
    }
}
</code></pre>
<h2 id="_53">聊天数据拉取协议</h2>
<h3 id="getchatinfoc2s">GetChatInfo(C2S)</h3>
<h4 id="_54">描述</h4>
<p>客户端向服务器端申请聊天信息数据</p>
<h4 id="_55">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>number</td>
<td>聊天ID</td>
</tr>
</tbody>
</table>
<h4 id="_56">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;GetChatInfo&quot;,
    &quot;data&quot;: 9
}
</code></pre>
<h3 id="chats2c">Chat(S2C)</h3>
<h4 id="_57">描述</h4>
<p>服务器端向客户端发送聊天信息数据</p>
<h4 id="_58">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>string</td>
<td>序列化后的聊天信息数据</td>
</tr>
</tbody>
</table>
<h4 id="_59">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;Chat&quot;,
    &quot;data&quot;: &quot;{\&quot;id\&quot;:9,\&quot;name\&quot;:\&quot;创建群聊测试2\&quot;,\&quot;avaterHash\&quot;:\&quot;\&quot;}&quot;
}
</code></pre>
<h2 id="_60">群聊权限相关协议</h2>
<h3 id="getgroupusersgetgroupadmingetgroupownerc2s">GetGroupUsers、GetGroupAdmin、GetGroupOwner(C2S)</h3>
<h4 id="_61">描述</h4>
<p>客户端向服务器端请求群聊用户ID列表、请求管理员ID列表、请求群主ID</p>
<h4 id="_62">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>number</td>
<td>聊天ID</td>
</tr>
</tbody>
</table>
<h4 id="_63">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;GetGroupUsers&quot;,
    &quot;data&quot;: 9
}
</code></pre>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;GetGroupAdmin&quot;,
    &quot;data&quot;: 9
}
</code></pre>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;GetGroupOwner&quot;,
    &quot;data&quot;: 9
}
</code></pre>
<h3 id="getgroupusersresponses2c">GetGroupUsersResponse(S2C)</h3>
<h4 id="_64">描述</h4>
<p>服务器端向客户端发送群聊成员ID列表</p>
<h4 id="_65">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>响应状态</td>
</tr>
<tr>
<td>chatId</td>
<td>number(可选)</td>
<td>聊天ID</td>
</tr>
<tr>
<td>userIds</td>
<td>Array(可选)</td>
<td>群聊用户ID列表</td>
</tr>
<tr>
<td>userIds[index]</td>
<td>number</td>
<td>用户ID</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>state状态</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Success</td>
<td>成功响应</td>
</tr>
<tr>
<td>NotGroupChat</td>
<td>该聊天不是群聊</td>
</tr>
<tr>
<td>ServerError</td>
<td>服务器异常</td>
</tr>
</tbody>
</table>
<h4 id="_66">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;GetGroupUsersResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;Success&quot;,
        &quot;chatId&quot;: 8,
        &quot;userIds&quot;: [
            1,
            5
        ]
    }
}
</code></pre>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;GetGroupUsersResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;NotGroupChat&quot;
    }
}
</code></pre>
<h3 id="getgroupownerresponses2c">GetGroupOwnerResponse(S2C)</h3>
<h4 id="_67">描述</h4>
<p>服务器端向客户端发送群主ID</p>
<h4 id="_68">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>chatId</td>
<td>number(可选)</td>
<td>成功响应后，为聊天ID</td>
</tr>
<tr>
<td>userId</td>
<td>number(可选)</td>
<td>成功响应后，为群主ID</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>state状态</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Success</td>
<td>成功响应</td>
</tr>
<tr>
<td>UserNotInChat</td>
<td>发出请求的用户不在聊天中</td>
</tr>
<tr>
<td>ServerError</td>
<td>服务器错误</td>
</tr>
</tbody>
</table>
<h4 id="_69">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;GetGroupOwnerResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;Success&quot;,
        &quot;chatId&quot;: 8,
        &quot;userId&quot;: 10
    }
}
</code></pre>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;GetGroupOwnerResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;UserNotInChat&quot;
    }
}
</code></pre>
<h3 id="getgroupadminresponses2c">GetGroupAdminResponse(S2C)</h3>
<h4 id="_70">描述</h4>
<p>服务器端向客户端发送管理员ID列表</p>
<h4 id="_71">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>chatId</td>
<td>number(可选)</td>
<td>成功响应后，为聊天ID</td>
</tr>
<tr>
<td>userIds</td>
<td>Array(可选)</td>
<td>成功响应后，为管理员ID列表</td>
</tr>
<tr>
<td>userIds[index]</td>
<td>number</td>
<td>管理员ID</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>state状态</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Success</td>
<td>成功响应</td>
</tr>
<tr>
<td>UserNotInChat</td>
<td>发出请求的用户不在聊天中</td>
</tr>
<tr>
<td>ServerError</td>
<td>服务器错误</td>
</tr>
</tbody>
</table>
<h4 id="_72">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;GetGroupAdminResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;Success&quot;,
        &quot;chatId&quot;: 8,
        &quot;userIds&quot;: [
            10,
            5
        ]
    }
}
</code></pre>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;GetGroupAdminResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;UserNotInChat&quot;
    }
}
</code></pre>
<h3 id="groupownertransferc2s">GroupOwnerTransfer(C2S)</h3>
<h4 id="_73">描述</h4>
<p>转移群主身份</p>
<h4 id="_74">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>chatId</td>
<td>number</td>
<td>聊天ID</td>
</tr>
<tr>
<td>userId</td>
<td>number</td>
<td>要移交的用户ID</td>
</tr>
</tbody>
</table>
<h4 id="_75">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;GroupOwnerTransfer&quot;,
    &quot;data&quot;: {
        &quot;chatId&quot;: 5,
        &quot;userId&quot;: 2
    }
}
</code></pre>
<h3 id="groupownertransferresponses2c">GroupOwnerTransferResponse(S2C)</h3>
<h4 id="_76">描述</h4>
<p>服务器端向客户端响应移交群主请求</p>
<h4 id="_77">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>响应状态</td>
</tr>
<tr>
<td>chatId</td>
<td>number</td>
<td>聊天ID</td>
</tr>
<tr>
<td>userId</td>
<td>number</td>
<td>用户ID</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>state状态</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Success</td>
<td>成功响应</td>
</tr>
<tr>
<td>NotOwner</td>
<td>发出请求的用户ID</td>
</tr>
<tr>
<td>UserNotInChat</td>
<td>用户不在群聊中</td>
</tr>
<tr>
<td>ServerError</td>
<td>服务器错误</td>
</tr>
</tbody>
</table>
<h4 id="_78">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;GroupOwnerTransferResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;Success&quot;,
        &quot;chatId&quot;: 4,
        &quot;userId&quot;: 2
    }
}
</code></pre>
<h3 id="removegroupmemberc2s">RemoveGroupMember(C2S)</h3>
<h4 id="_79">描述</h4>
<p>踢出群成员</p>
<h4 id="_80">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>chatId</td>
<td>number</td>
<td>聊天ID</td>
</tr>
<tr>
<td>userId</td>
<td>number</td>
<td>用户ID</td>
</tr>
</tbody>
</table>
<h4 id="_81">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;RemoveGroupMember&quot;,
    &quot;data&quot;: {
        &quot;chatId&quot;: 5,
        &quot;userId&quot;: 2
    }
}
</code></pre>
<h3 id="removegroupmemberresponses2c">RemoveGroupMemberResponse(S2C)</h3>
<h4 id="_82">描述</h4>
<p>服务器端向客户端响应踢出群成员请求</p>
<h4 id="_83">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>响应状态</td>
</tr>
<tr>
<td>chatId</td>
<td>number(可选)</td>
<td>成功响应后，为聊天ID</td>
</tr>
<tr>
<td>userId</td>
<td>number(可选)</td>
<td>成功响应后，为被踢出的用户ID</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>state状态</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Success</td>
<td>成功响应</td>
</tr>
<tr>
<td>SameUser</td>
<td>发出请求用户与踢出用户相同</td>
</tr>
<tr>
<td>NoPermission</td>
<td>无权限踢出该成员</td>
</tr>
<tr>
<td>UserNotInChat</td>
<td>用户不在群聊中</td>
</tr>
<tr>
<td>ServerError</td>
<td>服务器错误</td>
</tr>
</tbody>
</table>
<h4 id="_84">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;RemoveGroupMemberResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;Success&quot;,
        &quot;chatId&quot;: 5,
        &quot;userId&quot;: 15
    }
}
</code></pre>
<h2 id="_85">私聊已读查询协议</h2>
<h3 id="getuserreadinprivatec2s">GetUserReadInPrivate(C2S)</h3>
<h4 id="_86">描述</h4>
<p>客户端向服务器端请求私聊对方已读到的最新消息ID</p>
<h4 id="_87">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>number</td>
<td>聊天ID</td>
</tr>
</tbody>
</table>
<h4 id="ilike">示例iLike</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;GetUserReadInPrivate&quot;,
    &quot;data&quot;: 72
}
</code></pre>
<h3 id="getuserreadinprivateresponses2c">GetUserReadInPrivateResponse(S2C)</h3>
<h4 id="_88">描述</h4>
<p>服务器端向客户端发送私聊对方最新的已读消息ID</p>
<h4 id="_89">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>响应状态</td>
</tr>
<tr>
<td>chatId</td>
<td>number(可选)</td>
<td>成功响应后，聊天ID</td>
</tr>
<tr>
<td>inChatId</td>
<td>number(可选)</td>
<td>成功响应后，消息ID</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>state状态</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Success</td>
<td>成功响应</td>
</tr>
<tr>
<td>NotPrivateChat</td>
<td>该聊天不是私聊</td>
</tr>
<tr>
<td>UserNotInChat</td>
<td>发出请求的用户不在该群聊中</td>
</tr>
<tr>
<td>ServerError</td>
<td>服务器错误</td>
</tr>
</tbody>
</table>
<h4 id="_90">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;GetUserReadInPrivateResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;Success&quot;,
        &quot;chatId&quot;: 72,
        &quot;inChatId&quot;: 5
    }
}
</code></pre>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;GetUserReadInPrivateResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;NotPrivateChat&quot;
    }
}
</code></pre>
<h2 id="_91">群聊已读查询协议</h2>
<h3 id="getuserreadingroupc2s">GetUserReadInGroup(C2S)</h3>
<h4 id="_92">描述</h4>
<p>客户端向服务器端请求已读该消息的群成员ID列表</p>
<h4 id="_93">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>chatId</td>
<td>number</td>
<td>群聊ID</td>
</tr>
<tr>
<td>inChatId</td>
<td>number</td>
<td>消息ID</td>
</tr>
</tbody>
</table>
<h4 id="_94">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;GetUserReadInGroup&quot;,
    &quot;data&quot;: {
        &quot;chatId&quot;: 4,
        &quot;inChatId&quot;: 49
    }
}
</code></pre>
<h3 id="getuserreadingroupresponses2c">GetUserReadInGroupResponse(S2C)</h3>
<h4 id="_95">描述</h4>
<p>服务器端向客户端发送对应消息的已读成员ID列表</p>
<h4 id="_96">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>响应状态</td>
</tr>
<tr>
<td>chatId</td>
<td>number(可选)</td>
<td>成功响应后，聊天ID</td>
</tr>
<tr>
<td>inChatId</td>
<td>number(可选)</td>
<td>成功响应后，消息ID</td>
</tr>
<tr>
<td>userIds</td>
<td>Array(可选)</td>
<td>成功响应后，已读成员ID列表</td>
</tr>
<tr>
<td>userIds[index]</td>
<td>number</td>
<td>用户ID</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>state状态</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Success</td>
<td>成功响应</td>
</tr>
<tr>
<td>NotGroupChat</td>
<td>该群聊不是群聊</td>
</tr>
<tr>
<td>UserNotInChat</td>
<td>发出请求的用户不在群聊中</td>
</tr>
</tbody>
</table>
<h4 id="_97">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;GetUserReadInGroupResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;Success&quot;,
        &quot;chatId&quot;: 4,
        &quot;inChatId&quot;: 15,
        &quot;userIds&quot;: [
            10,
            2
        ]
    }
}
</code></pre>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;GetUserReadInGroupResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;UserNotInChat&quot;
    }
}
</code></pre>
<h2 id="_98">群聊公告协议</h2>
<h3 id="pullgroupnoticec2s">PullGroupNotice(C2S)</h3>
<h4 id="_99">描述</h4>
<p>客户端向服务器端增量拉取群聊公告数据</p>
<h4 id="_100">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>chatId</td>
<td>number</td>
<td>聊天ID</td>
</tr>
<tr>
<td>lastNoticeId</td>
<td>number</td>
<td>客户端已有的最新公告ID，若为0则全量拉取</td>
</tr>
</tbody>
</table>
<h4 id="_101">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;PullGroupNotice&quot;,
    &quot;data&quot;: {
        &quot;chatId&quot;: 4,
        &quot;lastNoticeId&quot;: 0
    }
}
</code></pre>
<h3 id="pullgroupnoticeresponses2c">PullGroupNoticeResponse(S2C)</h3>
<h4 id="_102">描述</h4>
<p>服务器端向客户端发送序列化后的群公告数据列表</p>
<h4 id="_103">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>响应状态</td>
</tr>
<tr>
<td>chatId</td>
<td>number</td>
<td>聊天ID</td>
</tr>
<tr>
<td>groupNotice</td>
<td>Array(可选)</td>
<td>成功响应后，为群公告数据列表</td>
</tr>
<tr>
<td>groupNotice[index]</td>
<td>string</td>
<td>序列化后的群公告数据</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>state状态</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Success</td>
<td>成功响应</td>
</tr>
<tr>
<td>UserNotInChat</td>
<td>发出请求的用户不在该群聊中</td>
</tr>
<tr>
<td>ServerError</td>
<td>服务器错误</td>
</tr>
</tbody>
</table>
<h4 id="_104">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;PullGroupNoticeResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;Success&quot;,
        &quot;chatId&quot;: 4,
        &quot;groupNotice&quot;: []
    }
}
</code></pre>
<h3 id="sendgroupnoticec2s">SendGroupNotice(C2S)</h3>
<h4 id="_105">描述</h4>
<p>发送群公告</p>
<h4 id="_106">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>chatId</td>
<td>number</td>
<td>聊天ID</td>
</tr>
<tr>
<td>clientId</td>
<td>number</td>
<td>客户端消息ID</td>
</tr>
<tr>
<td>notice</td>
<td>string</td>
<td>公告内容</td>
</tr>
</tbody>
</table>
<h4 id="_107">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;SendGroupNotice&quot;,
    &quot;data&quot;: {
        &quot;chatId&quot;: 4,
        &quot;clientId&quot;: 1,
        &quot;notice&quot;: &quot;test&quot;
    }
}
</code></pre>
<h3 id="groupnoticeresponses2c">GroupNoticeResponse(S2C)</h3>
<h4 id="_108">描述</h4>
<p>服务器端响应客户端的发送群公告请求</p>
<h4 id="_109">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>响应状态</td>
</tr>
<tr>
<td>chatId</td>
<td>number</td>
<td>聊天ID</td>
</tr>
<tr>
<td>clientId</td>
<td>number</td>
<td>客户端聊天ID</td>
</tr>
<tr>
<td>noticeId</td>
<td>number</td>
<td>公告ID</td>
</tr>
<tr>
<td>timestamp</td>
<td>number</td>
<td>公告时间戳</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>state状态</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Success</td>
<td>成功响应</td>
</tr>
<tr>
<td>NoPermission</td>
<td>无权发送群公告</td>
</tr>
<tr>
<td>LenthLimitExceeded</td>
<td>群公告长度过长</td>
</tr>
<tr>
<td>ServerError</td>
<td>服务器错误</td>
</tr>
</tbody>
</table>
<h4 id="_110">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;GroupNoticeResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;Success&quot;,
        &quot;chatId&quot;: 4,
        &quot;clientId&quot;: 1,
        &quot;noticeId&quot;: 1,
        &quot;timestamp&quot;: 16851863077
    }
}
</code></pre>
<h2 id="token">token签发协议</h2>
<h3 id="applyfortokenc2s">ApplyForToken(C2S)</h3>
<h4 id="_111">描述</h4>
<p>客户端向服务器端请求签发token</p>
<h4 id="_112">参数</h4>
<table>
<thead>
<tr>
<th>参数列表</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>undefinend</td>
<td>无</td>
</tr>
</tbody>
</table>
<h4 id="_113">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;ApplyForToken&quot;
}
</code></pre>
<h3 id="applyfortokenresponses2c">ApplyForTokenResponse(S2C)</h3>
<h4 id="_114">描述</h4>
<p>服务器端向客户端签发token</p>
<h4 id="_115">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>响应状态</td>
</tr>
<tr>
<td>token</td>
<td>string(可选)</td>
<td>token</td>
</tr>
<tr>
<td>timestamp</td>
<td>number(可选)</td>
<td>时间戳</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>state状态</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Success</td>
<td>成功响应</td>
</tr>
<tr>
<td>ServerError</td>
<td>服务器错误</td>
</tr>
</tbody>
</table>
<h4 id="_116">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;ApplyForTokenResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;ServerError&quot;
    }
}
</code></pre>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;ApplyForTokenResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;Success&quot;,
        &quot;token&quot;: &quot;b309358883384c45b321340a127cacd6&quot;,
        &quot;timestamp&quot;: 1685192367997
    }
}
</code></pre>
<h2 id="_117">消息发送及操作协议</h2>
<h3 id="sendmessagec2s">SendMessage(C2S)</h3>
<h4 id="_118">描述</h4>
<p>发送消息</p>
<h4 id="_119">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>消息类型</td>
</tr>
<tr>
<td>clientId</td>
<td>number</td>
<td>客户端消息ID</td>
</tr>
<tr>
<td>serializedContent</td>
<td>string</td>
<td>序列化后的消息主体</td>
</tr>
<tr>
<td>timestamp</td>
<td>number</td>
<td>时间戳</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>type类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Text</td>
<td>文本消息</td>
</tr>
<tr>
<td>File</td>
<td>文件消息</td>
</tr>
<tr>
<td>Image</td>
<td>图片消息</td>
</tr>
<tr>
<td>Voice</td>
<td>语音消息</td>
</tr>
<tr>
<td>Transfer</td>
<td>转发消息</td>
</tr>
<tr>
<td>Revoked</td>
<td>撤回消息</td>
</tr>
<tr>
<td>MentionText</td>
<td>提及消息</td>
</tr>
<tr>
<td>ReplyText</td>
<td>回复消息</td>
</tr>
</tbody>
</table>
<h4 id="_120">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;SendMessage&quot;,
    &quot;data&quot;: {
        &quot;chatId&quot;: 4,
        &quot;clientId&quot;: 1,
        &quot;serializedContent&quot;: &quot;\&quot;你好\&quot;&quot;,
        &quot;timestamp&quot;: 1685192622888,
        &quot;type&quot;: &quot;Text&quot;
    }
}
</code></pre>
<h3 id="sendmessageresponses2c">SendMessageResponse(S2C)</h3>
<h4 id="_121">描述</h4>
<p>服务器端响应客户端发送消息请求</p>
<h4 id="_122">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>响应状态</td>
</tr>
<tr>
<td>clientId</td>
<td>number</td>
<td>客户端消息ID</td>
</tr>
<tr>
<td>chatId</td>
<td>number</td>
<td>聊天ID</td>
</tr>
<tr>
<td>inChatId</td>
<td>number</td>
<td>消息ID</td>
</tr>
<tr>
<td>timestamp</td>
<td>number</td>
<td>时间戳</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>state状态</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Success</td>
<td>成功响应</td>
</tr>
<tr>
<td>LenthLimitExceeded</td>
<td>发送消息过长</td>
</tr>
<tr>
<td>UserNotInChat</td>
<td>用户不在聊天中</td>
</tr>
<tr>
<td>UserNotLoggedIn</td>
<td>用户尚未登录</td>
</tr>
<tr>
<td>ServerError</td>
<td>服务器错误</td>
</tr>
</tbody>
</table>
<h4 id="_123">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;SendMessageResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;Success&quot;,
        &quot;clientId&quot;: 1,
        &quot;chatId&quot;: 4,
        &quot;inChatId&quot;: 52,
        &quot;timestamp&quot;: 1685192616
    }
}
</code></pre>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;SendMessageResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;UserNotInChat&quot;
    }
}
</code></pre>
<h3 id="revokemessagec2s">RevokeMessage(C2S)</h3>
<h4 id="_124">描述</h4>
<p>撤回消息</p>
<h4 id="_125">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>chatId</td>
<td>number</td>
<td>聊天ID</td>
</tr>
<tr>
<td>inChatId</td>
<td>number</td>
<td>消息ID</td>
</tr>
<tr>
<td>method</td>
<td>string</td>
<td>撤回权限</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>method类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Sender</td>
<td>发送者撤回自己发送的消息</td>
</tr>
<tr>
<td>GroupAdmin</td>
<td>群聊管理员撤回消息</td>
</tr>
<tr>
<td>GroupOwner</td>
<td>群主撤回消息</td>
</tr>
</tbody>
</table>
<h4 id="_126">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;RevokeMessage&quot;,
    &quot;data&quot;: {
        &quot;chatId&quot;: 4,
        &quot;inChatId&quot;: 52,
        &quot;method&quot;: &quot;Sender&quot;
    }
}
</code></pre>
<h3 id="revokemessageresponses2c">RevokeMessageResponse(S2C)</h3>
<h4 id="_127">描述</h4>
<p>服务器端响应撤回请求</p>
<h4 id="_128">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>响应状态</td>
</tr>
<tr>
<td>chatId</td>
<td>number</td>
<td>聊天ID</td>
</tr>
<tr>
<td>inChatId</td>
<td>number</td>
<td>消息ID</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>state状态</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Success</td>
<td>成功响应</td>
</tr>
<tr>
<td>TimeLimitExceeded</td>
<td>超时无法撤回</td>
</tr>
<tr>
<td>PermissionsDenied</td>
<td>无权撤回该消息</td>
</tr>
<tr>
<td>MessageNotExisted</td>
<td>消息不存在</td>
</tr>
</tbody>
</table>
<h4 id="_129">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;RevokeMessageResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;Success&quot;,
        &quot;chatId&quot;: 4,
        &quot;inChatId&quot;: 50
    }
}
</code></pre>
<h2 id="_130">请求发送及处理协议</h2>
<h3 id="sendrequestc2s">SendRequest(C2S)</h3>
<h4 id="_131">描述</h4>
<p>发送诸如添加好友，申请入群的请求</p>
<h4 id="_132">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>clientId</td>
<td>number</td>
<td>客户端消息ID</td>
</tr>
<tr>
<td>content</td>
<td>JSON</td>
<td>请求体</td>
</tr>
<tr>
<td>content.type</td>
<td>string</td>
<td>请求类型</td>
</tr>
<tr>
<td>content.receiverId</td>
<td>number(可选)</td>
<td>请求接收者ID</td>
</tr>
<tr>
<td>content.chatId</td>
<td>number(可选)</td>
<td>接收请求的群聊ID</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求验证消息</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>content.type类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>MakeFriend</td>
<td>添加好友</td>
</tr>
<tr>
<td>JoinGroup</td>
<td>申请入群</td>
</tr>
<tr>
<td>GroupInvitation</td>
<td>邀请入群</td>
</tr>
<tr>
<td>InvitedJoinGroup</td>
<td>邀请入群审核</td>
</tr>
</tbody>
</table>
<h4 id="_133">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;SendRequest&quot;,
    &quot;data&quot;: {
        &quot;messgae&quot;: &quot;加个好友&quot;,
        &quot;clientId&quot;: 1,
        &quot;content&quot;: {
            &quot;type&quot;: &quot;MakeFriend&quot;,
            &quot;receiverId&quot;: 15
        }
    }
}
</code></pre>
<h3 id="sendrequestresponses2c">SendRequestResponse(S2C)</h3>
<h4 id="_134">描述</h4>
<p>服务器端响应发送请求的请求</p>
<h4 id="_135">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>响应状态</td>
</tr>
<tr>
<td>clientId</td>
<td>number</td>
<td>客户端消息ID</td>
</tr>
<tr>
<td>reqId</td>
<td>number(可选)</td>
<td>成功响应后，为请求ID</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>state状态</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Success</td>
<td>成功响应</td>
</tr>
<tr>
<td>ServerError</td>
<td>服务器错误</td>
</tr>
</tbody>
</table>
<h4 id="_136">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;SendRequestResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;Success&quot;,
        &quot;clientId&quot;: 1,
        &quot;reqId&quot;: 15
    }
}
</code></pre>
<h3 id="solverequestc2s">SolveRequest(C2S)</h3>
<h4 id="_137">描述</h4>
<p>处理请求</p>
<h4 id="_138">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>reqId</td>
<td>number</td>
<td>请求ID</td>
</tr>
<tr>
<td>answer</td>
<td>string</td>
<td>处理操作</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>answer类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Refused</td>
<td>拒绝请求</td>
</tr>
<tr>
<td>Approved</td>
<td>同样请求</td>
</tr>
</tbody>
</table>
<h4 id="_139">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;SolveRequest&quot;,
    &quot;data&quot;: {
        &quot;reqId&quot;: 15,
        &quot;answer&quot;: &quot;Refused&quot;
    }
}
</code></pre>
<h3 id="solverequestresponses2c">SolveRequestResponse(S2C)</h3>
<h4 id="_140">描述</h4>
<p>服务器端响应用户处理请求</p>
<h4 id="_141">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>响应状态</td>
</tr>
<tr>
<td>reqId</td>
<td>number</td>
<td>请求ID</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>state状态</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Success</td>
<td>成功响应</td>
</tr>
<tr>
<td>Nohandler</td>
<td>该用户无处理权限</td>
</tr>
</tbody>
</table>
<h4 id="_142">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;SolveRequestResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;Success&quot;,
        &quot;reqId&quot;: 10
    }
}
</code></pre>
<h3 id="requeststateupdates2c">RequestStateUpdate(S2C)</h3>
<h4 id="_143">描述</h4>
<p>服务器端向客户端发送请求状态更改指令</p>
<h4 id="_144">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>JSON</td>
<td>无</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>将更新的状态</td>
</tr>
<tr>
<td>reqId</td>
<td>number</td>
<td>请求ID</td>
</tr>
</tbody>
</table>
<h4 id="_145">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;RequestStateUpdate&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;Solved&quot;,
        &quot;reqId&quot;: 10
    }
}
</code></pre>
<h2 id="_146">删除好友协议</h2>
<h3 id="unfriendc2s">Unfriend(C2S)</h3>
<h4 id="_147">描述</h4>
<p>删除好友</p>
<h4 id="_148">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>number</td>
<td>删除的好友ID</td>
</tr>
</tbody>
</table>
<h4 id="_149">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;Unfriend&quot;,
    &quot;data&quot;: 15
}
</code></pre>
<h3 id="unfriendresponses2c">UnfriendResponse(S2C)</h3>
<h4 id="_150">描述</h4>
<p>服务器端响应客户端删除好友请求</p>
<h4 id="_151">参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>state</td>
<td>string</td>
<td>响应状态</td>
</tr>
<tr>
<td>chatId</td>
<td>number(可选)</td>
<td>成功响应后，为聊天ID</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>state状态</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Success</td>
<td>成功响应</td>
</tr>
<tr>
<td>NotFriend</td>
<td>二者目前不是好友</td>
</tr>
</tbody>
</table>
<h4 id="_152">示例</h4>
<pre><code class="language-json">{
    &quot;command&quot;: &quot;UnfriendResponse&quot;,
    &quot;data&quot;: {
        &quot;state&quot;: &quot;Success&quot;,
        &quot;chatId&quot;: 5
    }
}
</code></pre>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tabs"], "search": "../../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.b4d07000.min.js"></script>
      
    
  </body>
</html>